openapi: 3.0.0
info:
  title: All new Branded Tshirt
  description: Developed By - Deepz
  version: 0.1.1

servers:
  - url: "{protocol}://localhost:5000/api/"
    description: localhost version of the app
    variables:
      protocol:
        enum:
          - http
          - https
        default: http

components:
  securitySchemes:
    BasicAuth:
      type: http
      scheme: basic
    BearerAuth:
      type: http
      scheme: bearer
    cookieAuth:
      type: apiKey
      in: cookie
      name: token

paths:
  /auth/signup:
    post:
      tags:
        - Authentication
      summary: create a new user
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  name:
                    type: string
                  email:
                    type: string
                  password:
                    type: string
                  photo:
                    type: string
                    format: binary   
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: object
                    properties:
                      name:
                        type: string 
                      email:
                        type: string 
                      role:
                        type: string 
                      _id:
                        type: string 
                      createdAt:
                        type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /auth/login:
    post:
      tags:
        - Authentication
      summary: Login
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  email:
                    type: string
                  password:
                    type: string   
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: object
                    properties:
                      name:
                        type: string 
                      email:
                        type: string 
                      role:
                        type: string 
                      _id:
                        type: string 
                      createdAt:
                        type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /auth/logout:
    get:
      tags:
        - Authentication
      summary: Logout  
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  message: 
                    type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /auth/forgotpassword:
    post:
      tags:
        - Authentication
      summary: Forgot Password
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  email:
                    type: string  
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  message: 
                    type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /auth/password/reset/{token}:
    post:
      tags:
        - Authentication
      summary: Forgot Password
      parameters:
        - name: token
          in: path
          schema:
            type: string
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  password:
                    type: string  
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: object
                    properties:
                      name:
                        type: string 
                      email:
                        type: string 
                      role:
                        type: string 
                      _id:
                        type: string 
                      createdAt:
                        type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'

  /user/userinfo:
    get:
      tags:
        - User
      summary: Get a user
      security:
        - BearerAuth: []  
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: object
                    properties:
                      photo:
                        type: object
                        properties:
                          id:
                            type: string
                          secure_url:
                            type: string  
                      name:
                        type: string 
                      email:
                        type: string 
                      role:
                        type: string 
                      _id:
                        type: string 
                      createdAt:
                        type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        
  /user/changepassword:
    post:
      tags:
        - User
      summary: Change user Password
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  oldPassword:
                    type: string    
                  newPassword:
                    type: string    
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: object
                    properties:
                      photo:
                        type: object
                        properties:
                          id:
                            type: string
                          secure_url:
                            type: string  
                      name:
                        type: string 
                      email:
                        type: string 
                      role:
                        type: string 
                      _id:
                        type: string 
                      createdAt:
                        type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        
  /user/updateUser:
    post:
      tags:
        - User
      summary: Update user
      security:
        - BearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  name:
                    type: string
                    required: true    
                  email:
                    type: string
                    required: true
                  photo:
                    type: string
                    format: binary      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: object
                    properties:
                      photo:
                        type: object
                        properties:
                          id:
                            type: string
                          secure_url:
                            type: string  
                      name:
                        type: string 
                      email:
                        type: string 
                      role:
                        type: string 
                      _id:
                        type: string 
                      createdAt:
                        type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        
  
  /user/admin/allusers:
    get:
      tags:
        - Admin
      summary: get all users
      security:
        - BearerAuth: []      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: array
                    items:
                      type: object
                      properties:
                        photo:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                        name:
                          type: string 
                        email:
                          type: string 
                        role:
                          type: string 
                        _id:
                          type: string 
                        createdAt:
                          type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        
  /user/admin/user/{id}:
    get:
      tags:
        - Admin
      summary: get users by id
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          schema:
            type: string        
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: array
                    items:
                      type: object
                      properties:
                        photo:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                        name:
                          type: string 
                        email:
                          type: string 
                        role:
                          type: string 
                        _id:
                          type: string 
                        createdAt:
                          type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        
    put:
      tags:
        - Admin
      summary: update user
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  name:
                    type: string
                    required: true    
                  email:
                    type: string
                    required: true
                  role:
                    type: string
                    required: true               
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: array
                    items:
                      type: object
                      properties:
                        photo:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                        name:
                          type: string 
                        email:
                          type: string 
                        role:
                          type: string 
                        _id:
                          type: string 
                        createdAt:
                          type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        
    delete:
      tags:
        - Admin
      summary: delete user
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          schema:
            type: string               
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  message: 
                    type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'        


  /user/manager/allusers:
    get:
      tags:
        - Manager
      summary: get all users
      security:
        - BearerAuth: []      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  token: 
                    type: string
                  user:
                    type: array
                    items:
                      type: object
                      properties:
                        photo:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                        name:
                          type: string 
                        email:
                          type: string 
                        role:
                          type: string 
                        _id:
                          type: string 
                        createdAt:
                          type: string 
        '400':
          description: Bad request
        '500':
          description: 'Internal server error' 

  /product/admin/addProduct:
    post:
      tags:
        - Admin
      summary: create a Product
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  name:
                    type: string
                  price:
                    type: number
                  description:
                    type: string
                  photos:
                    type: array
                    items:
                      type: string
                      format: binary
                  brand:
                    type: string
                  stock:
                    type: number  
                  category:
                    type: string
                    default: shortsleeve
                    enum:
                      - shortsleeve
                      - longsleeve
                      - sweatshirt
                      - hoodie                      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  product:
                    type: object
                    properties:
                      name:
                        type: string
                      price:
                        type: number
                      description:
                        type: string
                      photo:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                      reviews:
                        type: array
                        items:
                          type: object
                          properties:
                            user:
                              type: string
                            name:
                              type: string  
                            rating:
                              type: number  
                            comment:
                              type: string  
                      brand:
                        type: string 
                      category:
                        type: string
                      stock:
                        type: number   
                      ratings:
                        type: number 
                      totalReviews:
                        type: number 
                      user:
                        type: string 
                      createdAt:
                        type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'           
  /product/admin/getAllProduct:
    get:
      tags:
        - Admin
      summary: get all Product                      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean  
                  products:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        price:
                          type: number
                        description:
                          type: string
                        photo:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              secure_url:
                                type: string  
                        reviews:
                          type: array
                          items:
                            type: object
                            properties:
                              user:
                                type: string
                              name:
                                type: string  
                              rating:
                                type: number  
                              comment:
                                type: string  
                        brand:
                          type: string 
                        category:
                          type: string
                        stock:
                          type: number   
                        ratings:
                          type: number 
                        totalReviews:
                          type: number 
                        user:
                          type: string 
                        createdAt:
                          type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /product/admin/updateProduct/{id}:
    put:
      tags:
        - Admin
      summary: Update Product by id
      parameters:
        - name: id
          in: path
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  name:
                    type: string
                  price:
                    type: number
                  description:
                    type: string
                  photos:
                    type: array
                    items:
                      type: string
                      format: binary
                  brand:
                    type: string
                  stock:
                    type: number  
                  category:
                    type: string
                    default: shortsleeve
                    enum:
                      - shortsleeve
                      - longsleeve
                      - sweatshirt
                      - hoodie                            
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean  
                  product:
                    type: object
                    properties:
                      name:
                        type: string
                      price:
                        type: number
                      description:
                        type: string
                      photo:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                      reviews:
                        type: array
                        items:
                          type: object
                          properties:
                            user:
                              type: string
                            name:
                              type: string  
                            rating:
                              type: number  
                            comment:
                              type: string  
                      brand:
                        type: string 
                      category:
                        type: string
                      stock:
                        type: number   
                      ratings:
                        type: number 
                      totalReviews:
                        type: number 
                      user:
                        type: string 
                      createdAt:
                        type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /product/admin/deleteProduct/{id}:
    delete:
      tags:
        - Admin
      summary: Update Product by id
      parameters:
        - name: id
          in: path
          schema:
            type: string                           
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean  
                  message:
                    type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'

  /product/getAllProduct:
    get:
      tags:
        - User
      summary: get all Product                      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean
                  totalCountProduct:
                    type: number  
                  filteredProducts:
                    type: number  
                  products:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        price:
                          type: number
                        description:
                          type: string
                        photo:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              secure_url:
                                type: string  
                        reviews:
                          type: array
                          items:
                            type: object
                            properties:
                              user:
                                type: string
                              name:
                                type: string  
                              rating:
                                type: number  
                              comment:
                                type: string  
                        brand:
                          type: string 
                        category:
                          type: string
                        stock:
                          type: number   
                        ratings:
                          type: number 
                        totalReviews:
                          type: number 
                        user:
                          type: string 
                        createdAt:
                          type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'           
  /product/addReview:
    put:
      tags:
        - User
      summary: Add a Review
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  productId:
                    type: string
                  rating:
                    type: string
                  comment:
                    type: string                     
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean  
                  product:
                    type: object
                    properties:
                      name:
                        type: string
                      price:
                        type: number
                      description:
                        type: string
                      photo:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                      reviews:
                        type: array
                        items:
                          type: object
                          properties:
                            user:
                              type: string
                            name:
                              type: string  
                            rating:
                              type: number  
                            comment:
                              type: string  
                      brand:
                        type: string 
                      category:
                        type: string
                      stock:
                        type: number   
                      ratings:
                        type: number 
                      totalReviews:
                        type: number 
                      user:
                        type: string 
                      createdAt:
                        type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'           
  /product/deleteReview:
    delete:
      tags:
        - User
      summary: delete a Review
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  productId:
                    type: string                     
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean  
                  product:
                    type: object
                    properties:
                      name:
                        type: string
                      price:
                        type: number
                      description:
                        type: string
                      photo:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                      reviews:
                        type: array
                        items:
                          type: object
                          properties:
                            user:
                              type: string
                            name:
                              type: string  
                            rating:
                              type: number  
                            comment:
                              type: string  
                      brand:
                        type: string 
                      category:
                        type: string
                      stock:
                        type: number   
                      ratings:
                        type: number 
                      totalReviews:
                        type: number 
                      user:
                        type: string 
                      createdAt:
                        type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'           
  /product/reviews/{id}:
    get:
      tags:
        - User
      summary: get a Product Review
      parameters:
        - name: id
          in: path
          schema:
            type: string                     
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean   
                  reviews:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: string
                        name:
                          type: string  
                        rating:
                          type: number  
                        comment:
                          type: string  
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'           
  
  /product/{id}:
    get:
      tags:
        - User
      summary: get Product by id
      parameters:
        - name: id
          in: path
          schema:
            type: string                      
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success: 
                    type: boolean  
                  product:
                    type: object
                    properties:
                      name:
                        type: string
                      price:
                        type: number
                      description:
                        type: string
                      photo:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            secure_url:
                              type: string  
                      reviews:
                        type: array
                        items:
                          type: object
                          properties:
                            user:
                              type: string
                            name:
                              type: string  
                            rating:
                              type: number  
                            comment:
                              type: string  
                      brand:
                        type: string 
                      category:
                        type: string
                      stock:
                        type: number   
                      ratings:
                        type: number 
                      totalReviews:
                        type: number 
                      user:
                        type: string 
                      createdAt:
                        type: string
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'           

  /order/createOrder:
    post:
      tags:
        - User
      summary: create a Order
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                shippingInfo:
                  type: object
                  properties:
                    address:
                      type: string
                    phoneNumber:
                      type: number
                    pincode:
                      type: number
                    state:
                      type: string
                    city:
                      type: string
                    country:
                      type: string
                orderItems:
                  type: array
                  items:
                    properties:
                      name:
                        type: string
                      price:
                        type: number
                      image:
                        type: string
                      quantity:
                        type: number
                      product:
                        type: string  
                paymentInfo:
                  type: object
                  properties:
                    id:
                      type: string
                taxAmount:
                  type: number
                shippingAmount:
                  type: number
                totalAmount:
                  type: number                       
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  order:
                    type: object
                    properties:
                      shippingInfo:
                        type: object
                        properties:
                          address:
                            type: string
                          phoneNumber:
                            type: number
                          pincode:
                            type: number
                          state:
                            type: string
                          city:
                            type: string
                          country:
                            type: string
                      orderItems:
                        type: array
                        items:
                          properties:
                            name:
                              type: string
                            price:
                              type: number
                            image:
                              type: string
                            quantity:
                              type: number
                            products:
                              type: string  
                      paymentInfo:
                        type: object
                        properties:
                          id:
                            type: string
                      stock:
                        type: number
                      taxAmount:
                        type: number
                      shippingAmount:
                        type: number
                      totalAmount:
                        type: number
                      createdAt:
                        type: string   
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /order/getOrders:
    get:
      tags:
        - User
      summary: Get all the Orders                    
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  orders:
                    type: array
                    items:
                      type: object
                      properties:
                        shippingInfo:
                          type: object
                          properties:
                            address:
                              type: string
                            phoneNumber:
                              type: number
                            pincode:
                              type: number
                            state:
                              type: string
                            city:
                              type: string
                            country:
                              type: string
                        orderItems:
                          type: array
                          items:
                            properties:
                              name:
                                type: string
                              price:
                                type: number
                              image:
                                type: string
                              quantity:
                                type: number
                              products:
                                type: string  
                        paymentInfo:
                          type: object
                          properties:
                            id:
                              type: string
                        stock:
                          type: number
                        taxAmount:
                          type: number
                        shippingAmount:
                          type: number
                        totalAmount:
                          type: number
                        createdAt:
                          type: string   
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'
  /order/{id}:
    get:
      tags:
        - User
      summary: Get Order by Id
      parameters:
        - name: id
          in: path
          schema:
            type: string                  
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  orders:
                    type: object
                    properties:
                      shippingInfo:
                        type: object
                        properties:
                          address:
                            type: string
                          phoneNumber:
                            type: number
                          pincode:
                            type: number
                          state:
                            type: string
                          city:
                            type: string
                          country:
                            type: string
                      orderItems:
                        type: array
                        items:
                          properties:
                            name:
                              type: string
                            price:
                              type: number
                            image:
                              type: string
                            quantity:
                              type: number
                            products:
                              type: string  
                      paymentInfo:
                        type: object
                        properties:
                          id:
                            type: string
                      stock:
                        type: number
                      taxAmount:
                        type: number
                      shippingAmount:
                        type: number
                      totalAmount:
                        type: number
                      createdAt:
                        type: string   
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'

  /order/admin/getAllOrders:
    get:
      tags:
        - Admin
      summary: Get all the Orders                    
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  orders:
                    type: array
                    items:
                      type: object
                      properties:
                        shippingInfo:
                          type: object
                          properties:
                            address:
                              type: string
                            phoneNumber:
                              type: number
                            pincode:
                              type: number
                            state:
                              type: string
                            city:
                              type: string
                            country:
                              type: string
                        orderItems:
                          type: array
                          items:
                            properties:
                              name:
                                type: string
                              price:
                                type: number
                              image:
                                type: string
                              quantity:
                                type: number
                              products:
                                type: string  
                        paymentInfo:
                          type: object
                          properties:
                            id:
                              type: string
                        stock:
                          type: number
                        taxAmount:
                          type: number
                        shippingAmount:
                          type: number
                        totalAmount:
                          type: number
                        createdAt:
                          type: string   
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'

  /order/admin/updateOrder/{id}:
    put:
      tags:
        - Admin
      summary: update Order
      parameters:
        - name: id
          in: path
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                  orderStatus:
                    type: string
                    required: true                            
      responses:
        '200':
          description: success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  orders:
                    type: object
                    properties:
                      shippingInfo:
                        type: object
                        properties:
                          address:
                            type: string
                          phoneNumber:
                            type: number
                          pincode:
                            type: number
                          state:
                            type: string
                          city:
                            type: string
                          country:
                            type: string
                      orderItems:
                        type: array
                        items:
                          properties:
                            name:
                              type: string
                            price:
                              type: number
                            image:
                              type: string
                            quantity:
                              type: number
                            products:
                              type: string  
                      paymentInfo:
                        type: object
                        properties:
                          id:
                            type: string
                      stock:
                        type: number
                      taxAmount:
                        type: number
                      shippingAmount:
                        type: number
                      totalAmount:
                        type: number
                      createdAt:
                        type: string   
        '400':
          description: Bad request
        '500':
          description: 'Internal server error'              